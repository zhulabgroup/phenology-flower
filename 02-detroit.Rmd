# Correlation betwen leafing and flowering phenology on individual level
## Preparation

```{r, eval=TRUE, echo=FALSE}
source("code/func_whit.R")
```


Some settings.
```{r, eval=TRUE}
source("code/prep_hyper.R")
```

Is there even a typical phenological curve? This is a function to rule out curves that are flat.
```{r, eval=TRUE}
source("code/func_flat.R")
```

## Compare with individual flowering observations (Detroit oaks) 
Trees in detroit.
```{r, eval=TRUE}
source("code/indi_meta.R")
p_dt_map
```

Flowering observations.
```{r, eval=TRUE}
source("code/indi_flower.R")
p_dt_flower
```

View EVI, NAB, and NPN data together for one tree.
```{r, eval=TRUE}
source("code/indi_join.R")
p_dt_join
```

Detect greenup at multiple thresholds.
```{r, eval=TRUE}
source("code/func_doy.R")
```

```{r, eval=TRUE}
source("code/func_plot_tree.R")
```

```{r, eval=TRUE}
source("code/indi_doy.R")
p_dt_doy_one
```

Plot four trees as example.
```{r}
p_dt_doy_mult
```

Repeat for all trees. Plot green-up doy at several thresholds vs. flower observations. (Only showing within the limit of day 110 to 160.)
```{r, eval=TRUE}
source("code/indi_corr_2017.R")
p_dt_corr_2017
```

Repeat for all years and check correlation. Here only showing green-up at 50%. There were significantly positive correlations in three out of five years, suggesting that green-up and flowering time may be correlated on the individual level.
```{r, eval=TRUE}
source("code/indi_corr_years.R")
p_dt_corr_years
```

Get frequency distribution of green-up dates.
```{r, eval=TRUE}
source("code/indi_freq.R")
p_dt_freq
```

